# config/acl.yaml
# Access Control List: maps Azure AD groups (by Object ID) to allowed notebooks.
#
# CRITICAL: Use Group Object IDs (immutable GUIDs), NOT display names.
# Find Object IDs in Azure Portal > Azure AD > Groups > [Group] > Object ID
#
# Two wildcard patterns:
# 1. allowed_groups: ["*"] → ALL users can access this notebook
# 2. id: "*" → Groups listed can access ALL notebooks (admin/superuser)

notebooks:
  # Admin/superuser groups - get access to ALL notebooks
  - id: "*"
    name: "All Notebooks"
    description: "Wildcard notebook - groups here can access everything"
    allowed_groups:
      - group_id: "bbbbbbbb-cccc-dddd-eeee-ffffffffffff"
        display_name: "IT Admins"

  # Regular notebook with specific groups
  - id: "example-notebook-id"
    name: "Example Knowledge Base"
    description: "Placeholder - replace with real notebook IDs"
    allowed_groups:
      - group_id: "aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee"
        display_name: "Example Team"

  # Public notebook - all authenticated users
  - id: "public-notebook-id"
    name: "Public Knowledge Base"
    description: "Available to all authenticated users"
    allowed_groups:
      - "*"  # All authenticated users

defaults:
  strict_mode: true
  no_access_message: |
    You don't have access to any knowledge bases.
    Please contact your IT administrator to request access.
